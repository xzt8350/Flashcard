function main(){var e=document.getElementById("next");var t=document.getElementById("mark1");var n=document.getElementById("mark2");var r=document.getElementById("box");var i=document.getElementById("check");if(i.innerHTML!=-1){r=document.getElementById("box");r.id="marked"}var s=document.getElementById("status");if(s.innerHTML=="done"){document.getElementById("message").innerHTML="❤❤❤You have done all marked flashcards❤❤❤";document.getElementById("message").className="done";$("#message").fadeOut(4e3);console.log("jinlaile")}else if(s.innerHTML=="none"){document.getElementById("message").innerHTML="!!!You have not marked any flashcards yet!!!";document.getElementById("message").className="none";$("#message").fadeOut(4e3);console.log("jinlaile")}e.addEventListener("click",next_func);t.addEventListener("click",mark_func);n.addEventListener("click",mark_func);r.addEventListener("click",function(){count++;console.log(count)})}function next_func(){if(count%2==1){count=0;$(".flashcard").toggleClass("flipped")}var e=document.getElementById("back");e.addEventListener("click",back_func);e.className="enable";var t=new XMLHttpRequest,n="http://localhost:3000/api/next";t.open("POST",n,true);var r=document.getElementById("index").innerHTML;t.addEventListener("load",function(){if(t.status>=200&&t.status<400){data=JSON.parse(t.responseText);document.getElementById("index").innerHTML=data.index.toLocaleString();document.getElementById("ftxt").innerHTML=data.question.toLocaleString();document.getElementById("btxt").innerHTML=data.answer.toLocaleString();var e=data.is_mark;var n;if(e!=-1){n=document.getElementById("box");if(n!==null){n.id="marked"}}else{n=document.getElementById("marked");if(n!==null){n.id="box"}}var r=data.last.toLocaleString();if(r=="true"){var i=document.getElementById("next");i.removeEventListener("click",next_func);i.className="disable"}}});t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");t.send("index="+r)}function back_func(){if(count%2==1){count=0;$(".flashcard").toggleClass("flipped")}var e=document.getElementById("next");e.addEventListener("click",next_func);e.className="enable";var t=new XMLHttpRequest,n="http://localhost:3000/api/back";t.open("POST",n,true);var r=document.getElementById("index").innerHTML;t.addEventListener("load",function(){if(t.status>=200&&t.status<400){data=JSON.parse(t.responseText);document.getElementById("index").innerHTML=data.index.toLocaleString();document.getElementById("ftxt").innerHTML=data.question.toLocaleString();document.getElementById("btxt").innerHTML=data.answer.toLocaleString();var e=data.is_mark;var n;if(e!=-1){n=document.getElementById("box");if(n!==null){n.id="marked"}}else{n=document.getElementById("marked");if(n!==null){n.id="box"}}var r=data.first.toLocaleString();if(r=="true"){var i=document.getElementById("back");i.removeEventListener("click",back_func);i.className="disable"}}});t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");t.send("index="+r)}function mark_func(){count++;var e=document.getElementById("box");var t,n,r;if(e===null){t=new XMLHttpRequest;n="http://localhost:3000/api/unmark";t.open("POST",n,true);r=document.getElementById("index").innerHTML;t.addEventListener("load",function(){if(t.status>=200&&t.status<400){e=document.getElementById("marked");e.id="box"}});t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");t.send("index="+r)}else{t=new XMLHttpRequest;n="http://localhost:3000/api/mark";t.open("POST",n,true);r=document.getElementById("index").innerHTML;t.addEventListener("load",function(){if(t.status>=200&&t.status<400){e=document.getElementById("box");e.id="marked"}});t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");t.send("index="+r)}}var count=0;$(document).ready(function(){$(".flashcard").on("click",function(){$(".flashcard").toggleClass("flipped")})});$(document).ready(function(){$(".mark").on("click",function(){$(".flashcard").toggleClass("flipped")})});document.addEventListener("DOMContentLoaded",main)