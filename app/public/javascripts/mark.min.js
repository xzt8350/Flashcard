function main(){var e=document.getElementById("next");var t=document.getElementById("mark1");var n=document.getElementById("mark2");var r=document.getElementById("marked");var i=document.getElementById("total");if(i.innerHTML==1){e=document.getElementById("next");e.removeEventListener("click",next_func);e.className="disable";var s=document.getElementById("back");s.removeEventListener("click",back_func);s.className="disable"}e.addEventListener("click",next_func);t.addEventListener("click",unmark_func);n.addEventListener("click",unmark_func);r.addEventListener("click",function(){count++;console.log(count)})}function next_func(){console.log("zahuishi");if(count%2==1){count=0;$(".flashcard").toggleClass("flipped")}var e=document.getElementById("back");e.addEventListener("click",back_func);e.className="enable";var t=new XMLHttpRequest,n="http://localhost:3000/api/marked/next";t.open("POST",n,true);var r=document.getElementById("index").innerHTML;t.addEventListener("load",function(){if(t.status>=200&&t.status<400){data=JSON.parse(t.responseText);document.getElementById("index").innerHTML=data.index.toLocaleString();document.getElementById("ftxt").innerHTML=data.question.toLocaleString();document.getElementById("btxt").innerHTML=data.answer.toLocaleString();var e=data.last.toLocaleString();if(e=="true"){var n=document.getElementById("next");n.removeEventListener("click",next_func);n.className="disable"}}});t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");t.send("index="+r)}function back_func(){if(count%2==1){count=0;$(".flashcard").toggleClass("flipped")}var e=document.getElementById("next");e.addEventListener("click",next_func);e.className="enable";var t=new XMLHttpRequest,n="http://localhost:3000/api/marked/back";t.open("POST",n,true);var r=document.getElementById("index").innerHTML;t.addEventListener("load",function(){if(t.status>=200&&t.status<400){data=JSON.parse(t.responseText);document.getElementById("index").innerHTML=data.index.toLocaleString();document.getElementById("ftxt").innerHTML=data.question.toLocaleString();document.getElementById("btxt").innerHTML=data.answer.toLocaleString();var e=data.first.toLocaleString();if(e=="true"){var n=document.getElementById("back");n.removeEventListener("click",back_func);n.className="disable"}}});t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");t.send("index="+r)}function unmark_func(){count++;var e=new XMLHttpRequest,t="http://localhost:3000/api/marked/unmark";e.open("POST",t,true);var n=document.getElementById("index").innerHTML;e.addEventListener("load",function(){if(e.status>=200&&e.status<400){data=JSON.parse(e.responseText);var t=data.total;console.log(t,typeof t);if(t!==0){document.getElementById("total").innerHTML=document.getElementById("total").innerHTML-1;document.getElementById("index").innerHTML=data.index.toLocaleString();document.getElementById("ftxt").innerHTML=data.question.toLocaleString();document.getElementById("btxt").innerHTML=data.answer.toLocaleString()}if(t==1){console.log("jinlaile");var n=document.getElementById("next");n.removeEventListener("click",next_func);n.className="disable";var r=document.getElementById("back");r.removeEventListener("click",back_func);r.className="disable"}if(t===0){window.location.replace("http://localhost:3000/flashcard")}}});e.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");e.send("index="+n)}var count=0;$(document).ready(function(){$(".flashcard").on("click",function(){$(".flashcard").toggleClass("flipped")})});$(document).ready(function(){$(".mark").on("click",function(){$(".flashcard").toggleClass("flipped")})});document.addEventListener("DOMContentLoaded",main)